<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HoanTT Group - Culture Implementation Plan</title>
    
    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Oswald:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Lucide Icons -->
    <script src="https://unpkg.com/lucide@latest"></script>

    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['Inter', 'sans-serif'],
                        display: ['Oswald', 'sans-serif'],
                    },
                    colors: {
                        slate: {
                            800: '#1e293b',
                            900: '#0f172a',
                        }
                    }
                }
            }
        }
    </script>

    <style>
        body { background-color: #0f172a; color: #e2e8f0; }
        
        /* Custom Scrollbar */
        ::-webkit-scrollbar { width: 6px; height: 6px; }
        ::-webkit-scrollbar-track { background: #0B1120; }
        ::-webkit-scrollbar-thumb { background: #334155; border-radius: 3px; }
        ::-webkit-scrollbar-thumb:hover { background: #C5A059; }

        .custom-scrollbar::-webkit-scrollbar { width: 4px; }
        
        /* Animations */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .animate-fade-in {
            animation: fadeIn 0.4s ease-out forwards;
        }

        @keyframes zoomIn {
            from { opacity: 0; transform: scale(0.95); }
            to { opacity: 1; transform: scale(1); }
        }
        .animate-zoom-in {
            animation: zoomIn 0.3s ease-out forwards;
        }

        /* Glassmorphism utilities */
        .glass-panel {
            background: rgba(30, 41, 59, 0.4);
            backdrop-filter: blur(12px);
            border: 1px solid rgba(51, 65, 85, 0.5);
        }
        
        .nav-item.active {
            background: linear-gradient(90deg, rgba(197, 160, 89, 0.2) 0%, transparent 100%);
            border-left: 2px solid #C5A059;
            color: #C5A059;
        }
        
        .nav-item.active svg {
            color: #C5A059;
        }

        /* Sidebar transition */
        .sidebar-transition {
            transition: transform 0.3s ease-in-out;
        }
    </style>
</head>
<body class="h-screen flex flex-col overflow-hidden selection:bg-[#C5A059] selection:text-black font-sans">

    <!-- HEADER -->
    <header class="h-16 bg-[#0B1120] border-b border-slate-800 flex items-center justify-between px-4 md:px-6 shrink-0 z-30 shadow-lg relative">
        <div class="flex items-center gap-3">
            <button onclick="toggleSidebar()" class="md:hidden text-slate-400 hover:text-white">
                <i data-lucide="menu" class="w-6 h-6"></i>
            </button>
            <div class="w-9 h-9 rounded bg-[#C5A059] flex items-center justify-center text-[#0B1120] font-display font-bold text-xl shadow-[0_0_15px_rgba(197,160,89,0.4)]">H</div>
            <div class="flex flex-col">
                <h1 class="font-display font-bold text-base md:text-lg uppercase tracking-wider text-white leading-none">HoanTT Group</h1>
                <span class="text-[10px] text-[#C5A059] uppercase tracking-[0.2em] font-medium hidden md:block">Culture Implementation Plan</span>
            </div>
        </div>
        
        <div class="flex items-center gap-4 md:gap-6">
             <div class="hidden md:block text-right">
                 <p class="text-[10px] text-slate-400 uppercase tracking-wider">Project Lead</p>
                 <p class="text-sm font-bold text-white">Rosie Đào Hạnh Giang</p>
             </div>
             <div class="h-8 w-px bg-slate-800 hidden md:block"></div>
             <button onclick="alert('Tính năng đang phát triển!')" class="bg-[#C5A059] hover:bg-yellow-600 text-slate-900 px-4 py-2 rounded font-bold text-xs uppercase tracking-wide transition shadow-lg shadow-yellow-600/20 flex items-center gap-2">
                 <i data-lucide="download" class="w-4 h-4"></i> <span class="hidden md:inline">Xuất Báo Cáo</span>
             </button>
        </div>
    </header>

    <!-- BODY -->
    <div class="flex flex-1 overflow-hidden relative">
        
        <!-- Mobile Sidebar Backdrop -->
        <div id="sidebar-backdrop" onclick="toggleSidebar()" class="absolute inset-0 bg-black/50 z-10 hidden backdrop-blur-sm md:hidden"></div>

        <!-- SIDEBAR -->
        <aside id="sidebar" class="sidebar-transition absolute inset-y-0 left-0 transform -translate-x-full md:relative md:translate-x-0 w-64 bg-[#0f172a] border-r border-slate-800 flex flex-col shrink-0 z-20 h-full overflow-y-auto">
            <div class="p-4 space-y-2">
                <p class="hidden md:block text-[10px] font-bold text-slate-500 uppercase tracking-widest mb-4 pl-2">
                    Menu Điều Hành
                </p>
                
                <button onclick="renderView('overview')" id="nav-overview" class="nav-item w-full text-left px-3 py-3 rounded-lg flex items-center justify-start gap-3 transition-all duration-200 text-slate-400 hover:bg-slate-800 hover:text-white group active">
                    <i data-lucide="layout-dashboard" class="w-5 h-5 text-slate-500 group-hover:text-white transition-colors"></i>
                    <span class="font-medium text-sm">Tổng quan (Dashboard)</span>
                </button>
                
                <button onclick="renderView('masterplan')" id="nav-masterplan" class="nav-item w-full text-left px-3 py-3 rounded-lg flex items-center justify-start gap-3 transition-all duration-200 text-slate-400 hover:bg-slate-800 hover:text-white group">
                    <i data-lucide="calendar-check" class="w-5 h-5 text-slate-500 group-hover:text-white transition-colors"></i>
                    <span class="font-medium text-sm">Master Plan & RACI</span>
                </button>
                
                <button onclick="renderView('dailylife')" id="nav-dailylife" class="nav-item w-full text-left px-3 py-3 rounded-lg flex items-center justify-start gap-3 transition-all duration-200 text-slate-400 hover:bg-slate-800 hover:text-white group">
                    <i data-lucide="clock" class="w-5 h-5 text-slate-500 group-hover:text-white transition-colors"></i>
                    <span class="font-medium text-sm">Một Ngày Tại HoanTT</span>
                </button>

                <button onclick="renderView('rituals')" id="nav-rituals" class="nav-item w-full text-left px-3 py-3 rounded-lg flex items-center justify-start gap-3 transition-all duration-200 text-slate-400 hover:bg-slate-800 hover:text-white group">
                    <i data-lucide="gem" class="w-5 h-5 text-slate-500 group-hover:text-white transition-colors"></i>
                    <span class="font-medium text-sm">Hệ Thống Nghi Thức</span>
                </button>
            </div>

            <div class="mt-auto p-4 border-t border-slate-800">
                <div class="bg-slate-800/50 rounded p-3 text-xs text-slate-400 border border-slate-700/50">
                    <p class="font-bold text-[#C5A059] mb-1 flex items-center gap-2">
                        <i data-lucide="users" class="w-3 h-3"></i> Team Consultant
                    </p>
                    <p>Tập trung biến văn hóa thành thói quen (Habit Formation).</p>
                </div>
            </div>
        </aside>

        <!-- MAIN CONTENT -->
        <main class="flex-1 overflow-y-auto bg-gradient-to-br from-[#0F172A] via-[#111827] to-[#1E1B4B] w-full relative">
            <div id="app-content" class="max-w-7xl mx-auto p-4 md:p-10 min-h-full">
                <!-- Content will be injected here -->
            </div>
        </main>

    </div>

    <!-- MODAL -->
    <div id="detail-modal" class="fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm p-4 hidden opacity-0 transition-opacity duration-300" onclick="closeModal(event)">
        <!-- Modal content injected via JS -->
    </div>

    <!-- JAVASCRIPT LOGIC -->
    <script>
        // --- DATA SOURCE ---
        const DATA = {
            stats: {
                duration: "90 Ngày",
                tasks: "13 Key Tasks",
                phase: "Giai đoạn 1",
                risk: "Trung bình"
            },
            masterplan: [
                {
                    id: "phase1",
                    title: "PHASE 1: THIẾT KẾ & ĐỒNG BỘ (Tuần 1-4)",
                    focus: "Xây dựng nền tảng (Foundation)",
                    desc: "Thống nhất tiếng nói chung và chuẩn bị công cụ.",
                    tasks: [
                        { 
                            id: "t1.1", 
                            name: "Chốt bộ định nghĩa Values & Manifesto", 
                            start: "W1", end: "W1", 
                            raci: { r: "Rosie", a: "CEO", c: "PM", i: "All" },
                            details: {
                                what: "Thống nhất từng câu từng chữ trong định nghĩa 5 Giá trị cốt lõi và Tuyên ngôn (Manifesto). Đảm bảo ngôn ngữ sắc sảo, dễ nhớ, chạm cảm xúc.",
                                why: "Nếu định nghĩa mơ hồ, nhân viên sẽ hiểu sai. Sales hiểu 'Linh hoạt' là phá giá, Kế toán hiểu 'Linh hoạt' là làm ẩu. Sự đồng bộ ngay từ đầu giúp tránh 'tam sao thất bản'.",
                                how: [
                                    "Rosie soạn thảo bản nháp v1 dựa trên phỏng vấn.",
                                    "Họp kín với CEO để chốt tư tưởng (Buy-in).",
                                    "Gửi cho các Key Manager (Sales, MKT) góp ý (để họ thấy mình được tôn trọng).",
                                    "Ban hành văn bản chính thức có chữ ký CEO."
                                ],
                                example: "Thay vì định nghĩa 'Tận tâm là phục vụ tốt', hãy sửa thành: 'Tận tâm là giúp khách hàng bán được hàng (Sell-out), phản hồi trong 2h'."
                            }
                        },
                        { 
                            id: "t1.2", 
                            name: "Viết kịch bản 'Từ điển hành vi' (Sales vs Office)", 
                            start: "W1", end: "W2", 
                            raci: { r: "Rosie", a: "CEO", c: "KeyUser", i: "Tech" },
                            details: {
                                what: "Dịch chuyển các giá trị trừu tượng thành hành động cụ thể (DOs & DON'Ts) cho từng vị trí. Tách biệt rõ bộ hành vi cho Khối Kinh doanh và Khối Văn phòng.",
                                why: "Nhân viên không biết 'Chính trực' cụ thể là làm gì. Họ cần biết: 'Chính trực với Sales là không cắt máu, với Kế toán là không sửa số liệu'.",
                                how: [
                                    "Phỏng vấn sâu Trưởng bộ phận về các lỗi sai thường gặp của nhân viên.",
                                    "Liệt kê danh sách các hành vi tiêu cực (Toxic) cần loại bỏ -> Đưa vào mục DON'Ts.",
                                    "Xác định hành vi chuẩn mực (Role model) -> Đưa vào mục DOs.",
                                    "Nhóm lại theo từng Giá trị cốt lõi."
                                ],
                                example: "Với Sales: Hành vi DO là 'Báo cáo trung thực số tồn kho NPP', Hành vi DON'T là 'Ép hàng khi kho đại lý đã đầy'."
                            }
                        },
                        { 
                            id: "t1.3", 
                            name: "Thiết kế & Code App Culture OS", 
                            start: "W2", end: "W3", 
                            raci: { r: "Tech", a: "Rosie", c: "PM", i: "CEO" },
                            details: {
                                what: "Xây dựng ứng dụng nội bộ (Mobile App/Web) để số hóa việc ghi nhận văn hóa, khen thưởng và truyền thông.",
                                why: "Văn hóa cần công cụ để đo lường. Nếu chỉ nói miệng, văn hóa sẽ bay theo gió. App giúp biến hành vi vô hình thành dữ liệu hữu hình.",
                                how: [
                                    "Thiết kế UX/UI các tính năng: Newsfeed, Reward, Quiz, Report.",
                                    "Code Frontend & Backend.",
                                    "Test nội bộ (UAT) với nhóm Key Users.",
                                    "Deploy lên Store (Apple/Android) hoặc Web App."
                                ],
                                example: "Tính năng 'Gửi lời cảm ơn': Nhân viên A gửi coin cho Nhân viên B vì đã hỗ trợ nhiệt tình (Value: Hợp Lực)."
                            }
                        },
                        { 
                            id: "t1.4", 
                            name: "Ban hành Quy trình RACI phối hợp liên phòng ban", 
                            start: "W3", end: "W4", 
                            raci: { r: "PM", a: "CEO", c: "KeyUser", i: "All" },
                            details: {
                                what: "Vẽ lại bản đồ trách nhiệm (Ai làm, Ai duyệt, Ai phối hợp) cho các quy trình hay xảy ra xung đột.",
                                why: "Để chấm dứt văn hóa đổ lỗi. Khi có việc hỏng, nhìn vào RACI biết ngay lỗi ở khâu nào, ai chịu trách nhiệm, không cãi nhau.",
                                how: [
                                    "Liệt kê 5 quy trình 'nóng' nhất thường xuyên gây cãi vã.",
                                    "Tổ chức workshop với các trưởng bộ phận để điền bảng RACI.",
                                    "Ký cam kết giữa các phòng ban.",
                                    "Đưa lên App để tra cứu."
                                ],
                                example: "Quy trình Ra mắt SP mới: Marketing là (R) - chịu trách nhiệm nội dung, Sales là (C) - góp ý về giá/thị trường, CEO là (A) - duyệt ngân sách."
                            }
                        },
                        { 
                            id: "t1.5", 
                            name: "Đào tạo 'Train the Trainer' cho quản lý cấp trung", 
                            start: "W4", end: "W4", 
                            raci: { r: "Rosie", a: "CEO", c: "HR", i: "Managers" },
                            details: {
                                what: "Đào tạo kỹ năng quản trị văn hóa cho đội ngũ Quản lý cấp trung.",
                                why: "Quản lý cấp trung là người quyết định 70% văn hóa team. Nếu họ không hiểu hoặc không tin, văn hóa sẽ chết ngay tại cấp này.",
                                how: [
                                    "Giải thích cơ chế đánh giá 5 Levels.",
                                    "Role-play (Đóng vai) tình huống xử lý nhân viên vi phạm văn hóa.",
                                    "Hướng dẫn cách dùng App để log hành vi nhân viên.",
                                    "Giao KPI văn hóa cho quản lý."
                                ],
                                example: "Hướng dẫn Manager cách nói chuyện (Feedback) với một nhân viên Sales đang có doanh số tốt nhưng lại hay nói xấu đồng nghiệp."
                            }
                        }
                    ]
                },
                {
                    id: "phase2",
                    title: "PHASE 2: LAN TỎA & NHẬN THỨC (Tuần 5-8)",
                    focus: "Truyền thông & Đào tạo (Communication)",
                    desc: "Đưa văn hóa vào nhận thức của từng nhân viên.",
                    tasks: [
                        { 
                            id: "t2.1", 
                            name: "Townhall: Lễ ra quân & Ra mắt App", 
                            start: "W5", end: "W5", 
                            raci: { r: "CEO", a: "CEO", c: "Rosie", i: "All" },
                            details: {
                                what: "Sự kiện toàn công ty để CEO công bố Bộ Văn hóa mới và Chiến lược tương lai.",
                                why: "Tạo khí thế, sự trang trọng và cam kết từ cấp cao nhất.",
                                how: [
                                    "Teasing (Hé lộ) trước sự kiện 1 tuần.",
                                    "CEO bài phát biểu truyền cảm hứng (Storytelling).",
                                    "Nghi thức cam kết (Ký tên).",
                                    "Demo trực tiếp App trên sân khấu."
                                ],
                                example: "CEO chia sẻ câu chuyện khởi nghiệp gian khổ để minh họa cho giá trị 'Tận Tâm'."
                            }
                        },
                        { 
                            id: "t2.2", 
                            name: "Chiến dịch truyền thông: 'Mỗi tuần 1 Value'", 
                            start: "W5", end: "W9", 
                            raci: { r: "MKT Internal", a: "PM", c: "Rosie", i: "All" },
                            details: {
                                what: "Chuỗi truyền thông nội bộ kéo dài 5 tuần, mỗi tuần tập trung sâu vào 1 giá trị.",
                                why: "Mưa dầm thấm lâu. Không thể nhồi nhét tất cả cùng lúc.",
                                how: [
                                    "Thứ 2: Email CEO về định nghĩa Value.",
                                    "Thứ 3: Video phỏng vấn nhân viên tiêu biểu.",
                                    "Thứ 5: Minigame/Quiz trên App.",
                                    "Thứ 6: Tổng kết và vinh danh tuần."
                                ],
                                example: "Tuần lễ 'Chính Trực': Treo poster gương soi ở thang máy với dòng chữ 'Bạn có đang chính trực với chính mình?'"
                            }
                        },
                        { 
                            id: "t2.3", 
                            name: "Đào tạo 100% nhân viên về cách dùng App & Value", 
                            start: "W6", end: "W7", 
                            raci: { r: "PM/HR", a: "CEO", c: "KeyUser", i: "All" },
                            details: {
                                what: "Các buổi workshop nhỏ (theo team) để hướng dẫn chi tiết.",
                                why: "Đảm bảo không ai bị bỏ lại phía sau công nghệ và hiểu sai lệch về văn hóa.",
                                how: [
                                    "Chia nhỏ các lớp theo phòng ban (Sales riêng, Back-office riêng).",
                                    "Thực hành cài đặt App tại chỗ.",
                                    "Giải đáp thắc mắc Q&A."
                                ],
                                example: "Đào tạo team Kho: Hướng dẫn họ dùng App để báo cáo sự cố hàng hóa (Value: Trách nhiệm)."
                            }
                        },
                        { 
                            id: "t2.4", 
                            name: "Minigame trên App: 'Săn tìm Văn hóa'", 
                            start: "W6", end: "W8", 
                            raci: { r: "HR", a: "PM", c: "Tech", i: "All" },
                            details: {
                                what: "Game hóa (Gamification) việc học văn hóa.",
                                why: "Học qua chơi (Play to Learn) hiệu quả hơn đọc tài liệu khô khan.",
                                how: [
                                    "Nhân viên chụp ảnh đồng nghiệp đang thực hiện đúng hành vi văn hóa.",
                                    "Upload lên App kèm hashtag.",
                                    "Bình chọn nhận quà."
                                ],
                                example: "Chụp ảnh bạn Sales đang dọn rác sau sự kiện (Value: Đẳng Cấp)."
                            }
                        }
                    ]
                },
                {
                    id: "phase3",
                    title: "PHASE 3: ÁP DỤNG & SÀNG LỌC (Tuần 9-12)",
                    focus: "Vận hành & Đánh giá (Operation)",
                    desc: "Đưa vào đời sống thực tế và thanh lọc nhân sự.",
                    tasks: [
                        { 
                            id: "t3.1", 
                            name: "Áp dụng họp 'War Room' bắt buộc khi có sự cố", 
                            start: "W9", end: "Ongoing", 
                            raci: { r: "KeyUser", a: "CEO", c: "PM", i: "Rosie" },
                            details: {
                                what: "Cơ chế họp khẩn cấp liên phòng ban để giải quyết khủng hoảng ngay lập tức.",
                                why: "Xóa bỏ quy trình rườm rà khi có 'cháy'.",
                                how: [
                                    "Quy định tiêu chí kích hoạt War Room (Ví dụ: Khách hàng khiếu nại gay gắt trên Mạng xã hội).",
                                    "Triệu tập các trưởng bộ phận liên quan trong 15p.",
                                    "Ra quyết định tại chỗ, không chờ văn bản."
                                ],
                                example: "Sự cố lỗi giá trên web -> War Room gồm IT, MKT, Sales họp online xử lý trong 30p."
                            }
                        },
                        { 
                            id: "t3.2", 
                            name: "Đánh giá thử nghiệm (Mock Review) trên App", 
                            start: "W10", end: "W10", 
                            raci: { r: "KeyUser", a: "PM", c: "Rosie", i: "HR" },
                            details: {
                                what: "Chạy nháp quy trình đánh giá nhân sự theo văn hóa.",
                                why: "Để nhân viên quen với việc bị đánh giá hành vi, tránh sốc khi vào kỳ review thật.",
                                how: [
                                    "Mở cổng Review trên App.",
                                    "Yêu cầu nhân viên tự chấm điểm.",
                                    "Quản lý chấm thử và so sánh độ lệch."
                                ],
                                example: "Nhân viên tự nhận mình 5 sao 'Sáng Tạo', nhưng Quản lý chỉ chấm 3 sao vì chưa có ý tưởng mới."
                            }
                        },
                        { 
                            id: "t3.3", 
                            name: "Feedback 1:1 với nhân sự Level 1 & 2 (PIP)", 
                            start: "W11", end: "W11", 
                            raci: { r: "KeyUser", a: "HR", c: "CEO", i: "Rosie" },
                            details: {
                                what: "Lập biên bản PIP (Performance Improvement Plan) cho nhân sự yếu kém văn hóa.",
                                why: "Thanh lọc bộ máy, giữ lại người phù hợp.",
                                how: [
                                    "Lập biên bản PIP, ghi rõ hành vi cần sửa.",
                                    "Mentor kèm cặp sát sao.",
                                    "Review sau 30 ngày. Đạt -> Giữ. Không đạt -> Off-boarding."
                                ],
                                example: "Nhân viên B hay đi trễ (Vi phạm 'Chuyên nghiệp'). PIP yêu cầu: Đi đúng giờ 100% trong 1 tháng."
                            }
                        },
                        { 
                            id: "t3.4", 
                            name: "Vinh danh 'Culture Star' quý đầu tiên", 
                            start: "W12", end: "W12", 
                            raci: { r: "CEO", a: "CEO", c: "HR", i: "All" },
                            details: {
                                what: "Lễ trao giải cho những cá nhân/tập thể sống đúng văn hóa nhất.",
                                why: "Tạo hình mẫu (Role Model) để người khác noi theo.",
                                how: [
                                    "Dựa trên dữ liệu điểm từ App.",
                                    "Hội đồng văn hóa bình chọn thêm.",
                                    "Trao thưởng giá trị cao (tiền mặt/chuyến đi)."
                                ],
                                example: "Trao giải cho Team Kho vì đã có sáng kiến tiết kiệm vật tư đóng gói (Value: Hiệu Quả)."
                            }
                        }
                    ]
                }
            ],
            dailylife: [
                { time: "08:30", activity: "Stand-up Meeting (15p)", value: "Linh Hoạt", desc: "Toàn bộ team đứng họp nhanh. Trả lời 3 câu: Hôm qua làm gì? Hôm nay làm gì? Cần ai hỗ trợ? -> Không họp ngồi rề rà.", action: "Check-in App" },
                { time: "10:00", activity: "Xử lý đơn hàng / Sự vụ", value: "Tận Tâm", desc: "Back-office xử lý yêu cầu Sales. Sales xử lý yêu cầu khách. Cam kết phản hồi trong 2h (SLA).", action: "Đo lường SLA" },
                { time: "14:00", activity: "War Room (Nếu có sự cố)", value: "Hợp Lực", desc: "Nếu có khủng hoảng (loạn giá, hàng lỗi), Sales & MKT & Kho vào phòng họp ngay. Cấm đổ lỗi. Chỉ bàn giải pháp.", action: "Log sự cố" },
                { time: "16:00", activity: "Deep Work / Audit", value: "Chính Trực", desc: "Kế toán kiểm tra số liệu. Sales cập nhật CRM trung thực. Không xào nấu báo cáo.", action: "Audit random" },
                { time: "17:30", activity: "Clean-up & Plan", value: "Đẳng Cấp", desc: "Dọn dẹp bàn làm việc 5S trước khi về. Lên To-do list cho ngày mai.", action: "5S Check" }
            ],
            rituals: [
                { 
                    id: 1, title: "Họp No-Surprise (Thứ 2)", value: "Chính Trực", 
                    desc: "Cuộc họp đầu tuần với CEO chỉ nói về TIN XẤU & RỦI RO. Tin tốt gửi email. Mục tiêu: Nhìn thẳng sự thật để xử lý sớm.",
                    who: "CEO + Managers"
                },
                { 
                    id: 2, title: "Chiếc Ghế Khách Hàng", value: "Tận Tâm", 
                    desc: "Trong mọi cuộc họp chiến lược, luôn để trống 1 chiếc ghế. Khi ra quyết định, hãy chỉ vào ghế đó và hỏi: 'Khách hàng có muốn điều này không?'.",
                    who: "All Meetings"
                },
                { 
                    id: 3, title: "Cà Phê Chéo (Random Coffee)", value: "Hợp Lực", 
                    desc: "Mỗi tuần, App random cặp đôi 2 người khác phòng ban đi uống cà phê (Công ty trả tiền). Mục tiêu: Xóa bỏ Silos, tăng kết nối.",
                    who: "Toàn bộ NV"
                },
                { 
                    id: 4, title: "Giải Thưởng 'Phá Vỡ'", value: "Linh Hoạt", 
                    desc: "Mỗi tháng trao 1 giải cho nhân sự đề xuất CẮT BỎ được 1 quy trình thừa hoặc giấy tờ rườm rà nhất.",
                    who: "CEO trao giải"
                },
                { 
                    id: 5, title: "Dress-code Day & 4 Eyes Check", value: "Đẳng Cấp", 
                    desc: "Thứ 2 & Thứ 6 mặc đồng phục chuẩn. Mọi văn bản gửi ra ngoài phải có người thứ 2 check lỗi (4 mắt).",
                    who: "Toàn bộ NV"
                }
            ]
        };

        // --- GLOBAL STATE & UTILS ---
        let currentView = 'overview';
        let isSidebarOpen = false;

        function toggleSidebar() {
            isSidebarOpen = !isSidebarOpen;
            const sidebar = document.getElementById('sidebar');
            const backdrop = document.getElementById('sidebar-backdrop');
            
            if (isSidebarOpen) {
                sidebar.classList.remove('-translate-x-full');
                backdrop.classList.remove('hidden');
            } else {
                sidebar.classList.add('-translate-x-full');
                backdrop.classList.add('hidden');
            }
        }

        function renderView(viewName) {
            currentView = viewName;
            const content = document.getElementById('app-content');
            
            // Update Nav State
            document.querySelectorAll('.nav-item').forEach(el => {
                el.classList.remove('active');
                if (el.id === `nav-${viewName}`) el.classList.add('active');
            });

            // Close sidebar on mobile
            if(window.innerWidth < 768 && isSidebarOpen) toggleSidebar();

            // Render Logic
            if (viewName === 'overview') {
                content.innerHTML = `
                    <div class="animate-fade-in space-y-8">
                        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4">
                            ${createStatCard("Thời gian triển khai", DATA.stats.duration, "border-l-[#C5A059]", "clock", "text-[#C5A059]")}
                            ${createStatCard("Số lượng đầu việc", DATA.stats.tasks, "border-l-blue-500", "check-circle-2", "text-blue-500")}
                            ${createStatCard("Trạng thái hiện tại", DATA.stats.phase, "border-l-emerald-500", "layout-dashboard", "text-emerald-500")}
                            ${createStatCard("Rủi ro dự báo", DATA.stats.risk, "border-l-red-500", "alert-circle", "text-red-500")}
                        </div>

                        <div class="glass-panel rounded-xl p-8 text-center space-y-6 bg-slate-800/40 border border-slate-700">
                            <div class="w-16 h-16 rounded-full bg-[#C5A059]/20 flex items-center justify-center mx-auto mb-4">
                                <i data-lucide="gem" class="w-8 h-8 text-[#C5A059]"></i>
                            </div>
                            <h2 class="text-3xl font-bold text-white uppercase tracking-wide">Sẵn sàng khởi chạy?</h2>
                            <p class="text-slate-400 max-w-2xl mx-auto">
                                Kế hoạch đã được chi tiết hóa đến từng tuần và từng cá nhân chịu trách nhiệm. 
                                Hãy bắt đầu bằng việc xem xét Master Plan hoặc khám phá các Nghi thức văn hóa.
                            </p>
                            <div class="flex justify-center gap-4">
                                <button onclick="renderView('masterplan')" class="bg-[#C5A059] hover:bg-yellow-600 text-slate-900 font-bold px-6 py-3 rounded-lg transition flex items-center gap-2">
                                    Xem Master Plan <i data-lucide="arrow-right" class="w-4 h-4"></i>
                                </button>
                            </div>
                        </div>
                    </div>
                `;
            } else if (viewName === 'masterplan') {
                content.innerHTML = `
                    <div class="space-y-8 animate-fade-in pb-20">
                        <div class="flex flex-col md:flex-row justify-between items-end border-b border-slate-800 pb-6">
                            <div>
                                <h2 class="text-3xl font-display font-bold text-white uppercase tracking-tight">Kế Hoạch & RACI Matrix</h2>
                                <p class="text-slate-400 mt-2">Lộ trình 90 ngày thiết lập hệ điều hành văn hóa</p>
                            </div>
                            
                            <div class="flex gap-4 mt-4 md:mt-0 text-xs text-slate-500 bg-slate-900/80 p-3 rounded-lg border border-slate-800">
                                <span class="font-bold text-slate-300 uppercase mr-2">RACI:</span>
                                <span class="flex items-center gap-1"><span class="bg-red-500/20 text-red-400 border border-red-500/50 px-1.5 rounded text-[10px] font-bold">R</span> Responsible</span>
                                <span class="flex items-center gap-1"><span class="bg-amber-500/20 text-amber-400 border border-amber-500/50 px-1.5 rounded text-[10px] font-bold">A</span> Accountable</span>
                                <span class="flex items-center gap-1"><span class="bg-blue-500/20 text-blue-400 border border-blue-500/50 px-1.5 rounded text-[10px] font-bold">C</span> Consulted</span>
                                <span class="flex items-center gap-1"><span class="bg-slate-500/20 text-slate-400 border border-slate-500/50 px-1.5 rounded text-[10px] font-bold">I</span> Informed</span>
                            </div>
                        </div>

                        <div class="space-y-10">
                            ${DATA.masterplan.map(phase => `
                                <div class="relative">
                                    <div class="absolute left-[27px] top-10 bottom-[-40px] w-0.5 bg-slate-800 -z-10 last:hidden"></div>
                                    
                                    <div class="flex items-center gap-4 mb-6">
                                        <div class="w-14 h-14 rounded-full bg-slate-900 border-2 border-[#C5A059] text-[#C5A059] flex items-center justify-center font-bold text-xl shadow-[0_0_15px_rgba(197,160,89,0.3)] z-10">
                                            ${phase.id.replace('phase', '')}
                                        </div>
                                        <div>
                                            <h3 class="text-[#C5A059] font-bold text-lg uppercase tracking-wide">${phase.title}</h3>
                                            <p class="text-slate-400 text-sm italic">Focus: ${phase.focus}</p>
                                        </div>
                                    </div>

                                    <div class="glass-panel bg-slate-800/40 rounded-xl overflow-hidden ml-4 md:ml-7 shadow-xl">
                                        <div class="overflow-x-auto">
                                            <table class="w-full text-left text-sm">
                                                <thead class="bg-slate-900/80 text-slate-400 uppercase text-xs font-bold tracking-wider">
                                                    <tr>
                                                        <th class="py-4 pl-6 w-[40%]">Hạng mục công việc (Task)</th>
                                                        <th class="py-4 text-center w-[15%]">Timeline</th>
                                                        <th class="py-4 text-center w-[25%] hidden md:table-cell">RACI (R-A-C-I)</th>
                                                        <th class="py-4 text-center w-[20%]">Action</th>
                                                    </tr>
                                                </thead>
                                                <tbody class="divide-y divide-slate-800">
                                                    ${phase.tasks.map(task => `
                                                        <tr class="hover:bg-white/5 transition duration-150 group">
                                                            <td class="py-4 pl-6 pr-4">
                                                                <p class="font-semibold text-slate-200 group-hover:text-[#C5A059] transition-colors">${task.name}</p>
                                                                <div class="md:hidden flex gap-2 mt-2 text-[10px] opacity-70">
                                                                    <span class="bg-slate-900 px-1 rounded border border-slate-700">R: ${task.raci.r}</span>
                                                                    <span class="bg-slate-900 px-1 rounded border border-slate-700">A: ${task.raci.a}</span>
                                                                </div>
                                                            </td>
                                                            <td class="py-4 text-center">
                                                                <span class="font-mono text-xs font-bold text-[#C5A059] bg-[#C5A059]/10 px-2 py-1 rounded border border-[#C5A059]/20">
                                                                    ${task.start} - ${task.end}
                                                                </span>
                                                            </td>
                                                            <td class="py-4 text-center hidden md:table-cell">
                                                                <div class="flex items-center justify-center gap-3 text-xs">
                                                                    <div class="flex flex-col items-center"><span class="text-red-400 font-bold mb-0.5">R</span><span class="text-slate-500">${task.raci.r}</span></div>
                                                                    <div class="w-px h-6 bg-slate-700"></div>
                                                                    <div class="flex flex-col items-center"><span class="text-amber-400 font-bold mb-0.5">A</span><span class="text-slate-500">${task.raci.a}</span></div>
                                                                    <div class="w-px h-6 bg-slate-700"></div>
                                                                    <div class="flex flex-col items-center"><span class="text-blue-400 font-bold mb-0.5">C</span><span class="text-slate-500">${task.raci.c}</span></div>
                                                                    <div class="w-px h-6 bg-slate-700"></div>
                                                                    <div class="flex flex-col items-center"><span class="text-slate-300 font-bold mb-0.5">I</span><span class="text-slate-500">${task.raci.i}</span></div>
                                                                </div>
                                                            </td>
                                                            <td class="py-4 text-center px-4">
                                                                <button onclick="openModal('${task.id}')" class="bg-blue-600/90 hover:bg-blue-500 text-white text-xs font-bold px-3 py-2 rounded-lg transition shadow-lg shadow-blue-500/20 hover:shadow-blue-500/40 flex items-center justify-center gap-2 mx-auto w-full md:w-auto">
                                                                    <i data-lucide="search" class="w-3.5 h-3.5"></i> Chi tiết
                                                                </button>
                                                            </td>
                                                        </tr>
                                                    `).join('')}
                                                </tbody>
                                            </table>
                                        </div>
                                    </div>
                                </div>
                            `).join('')}
                        </div>
                    </div>
                `;
            } else if (viewName === 'dailylife') {
                content.innerHTML = `
                    <div class="animate-fade-in pb-20">
                        <div class="border-b border-slate-800 pb-6 mb-10">
                            <h2 class="text-3xl font-display font-bold text-white uppercase">Một Ngày Tại HoanTT</h2>
                            <p class="text-slate-400 mt-2">Cách các giá trị cốt lõi được "sống" trong 8 tiếng làm việc.</p>
                        </div>

                        <div class="relative pl-4 md:pl-10 space-y-12">
                            <div class="absolute left-[23px] md:left-[47px] top-2 bottom-0 w-0.5 bg-slate-800"></div>
                            
                            ${DATA.dailylife.map(item => `
                                <div class="relative group">
                                    <div class="absolute -left-[30px] top-0 flex flex-col items-center z-10">
                                        <div class="w-4 h-4 rounded-full bg-[#C5A059] border-4 border-slate-900 group-hover:scale-150 transition duration-300 shadow-[0_0_10px_#C5A059]"></div>
                                    </div>

                                    <div class="glass-panel ml-6 bg-slate-800/40 p-6 rounded-xl border border-slate-700 hover:border-[#C5A059]/50 transition-all duration-300 hover:translate-x-2 shadow-lg">
                                        <div class="flex flex-col md:flex-row justify-between md:items-center mb-3 gap-2">
                                            <div class="flex items-center gap-3">
                                                <span class="text-[#C5A059] font-mono font-bold text-lg bg-[#C5A059]/10 px-2 py-0.5 rounded">${item.time}</span>
                                                <h3 class="text-lg md:text-xl font-bold text-white">${item.activity}</h3>
                                            </div>
                                            <span class="text-[10px] uppercase font-bold tracking-widest px-3 py-1 rounded-full bg-slate-700 text-[#C5A059] border border-[#C5A059]/30 w-fit">
                                                Value: ${item.value}
                                            </span>
                                        </div>
                                        
                                        <p class="text-slate-300 text-sm mb-5 leading-relaxed">${item.desc}</p>
                                        
                                        <div class="flex items-center gap-2 text-xs font-bold text-emerald-400 bg-emerald-950/30 px-3 py-2 rounded-lg border border-emerald-500/20 w-fit">
                                            <i data-lucide="users" class="w-3.5 h-3.5"></i> App Action: ${item.action}
                                        </div>
                                    </div>
                                </div>
                            `).join('')}
                        </div>
                    </div>
                `;
            } else if (viewName === 'rituals') {
                content.innerHTML = `
                    <div class="animate-fade-in pb-20">
                        <div class="border-b border-slate-800 pb-6 mb-10">
                            <h2 class="text-3xl font-display font-bold text-white uppercase">Hệ Thống Nghi Thức</h2>
                            <p class="text-slate-400 mt-2">Các hoạt động bắt buộc (Rituals) để neo giữ văn hóa vào tổ chức.</p>
                        </div>

                        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                            ${DATA.rituals.map(r => `
                                <div class="glass-panel bg-slate-800/40 p-6 rounded-xl border-t-4 border-[#C5A059] border-x border-b border-slate-700 hover:-translate-y-1 transition duration-300 shadow-xl">
                                    <div class="flex justify-between items-start mb-4">
                                        <div class="w-10 h-10 rounded-lg bg-slate-800 flex items-center justify-center text-[#C5A059] font-bold text-lg border border-slate-600 shadow-inner">
                                            ${r.id}
                                        </div>
                                        <div class="text-right">
                                            <span class="block text-[10px] text-slate-500 uppercase font-bold tracking-wider">Core Value</span>
                                            <span class="text-xs text-white font-bold bg-slate-700 px-2 py-0.5 rounded">${r.value}</span>
                                        </div>
                                    </div>
                                    
                                    <h3 class="text-xl font-display font-bold text-white mb-3 uppercase tracking-wide">${r.title}</h3>
                                    <p class="text-slate-400 text-sm mb-6 min-h-[60px] leading-relaxed">${r.desc}</p>
                                    
                                    <div class="pt-4 border-t border-slate-700/50 flex items-center text-xs text-slate-500">
                                        <i data-lucide="users" class="w-3.5 h-3.5 mr-2"></i> 
                                        Đối tượng: <span class="text-slate-300 ml-1 font-bold">${r.who}</span>
                                    </div>
                                </div>
                            `).join('')}
                        </div>
                    </div>
                `;
            }

            lucide.createIcons();
        }

        // --- HELPER COMPONENTS ---
        function createStatCard(label, value, borderColor, icon, iconColor) {
            return `
                <div class="glass-panel bg-slate-800/40 p-5 rounded-xl ${borderColor} border-l-4 shadow-lg hover:translate-y-[-2px] transition-transform">
                    <div class="flex justify-between items-start">
                        <div>
                            <p class="text-slate-500 text-xs uppercase font-bold tracking-wider mb-1">${label}</p>
                            <p class="text-2xl font-bold text-white">${value}</p>
                        </div>
                        <div class="p-2 bg-slate-900/50 rounded-lg">
                            <i data-lucide="${icon}" class="${iconColor} w-6 h-6"></i>
                        </div>
                    </div>
                </div>
            `;
        }

        // --- MODAL LOGIC ---
        function openModal(taskId) {
            // Find task
            let foundTask = null;
            for(const phase of DATA.masterplan) {
                const t = phase.tasks.find(t => t.id === taskId);
                if(t) { foundTask = t; break; }
            }
            
            if(!foundTask) return;

            const modal = document.getElementById('detail-modal');
            modal.innerHTML = `
                <div class="w-full max-w-4xl max-h-[90vh] rounded-2xl overflow-hidden flex flex-col bg-[#0B1120] border border-slate-700 shadow-2xl animate-zoom-in" onclick="event.stopPropagation()">
                    <div class="bg-slate-900 p-6 border-b border-slate-800 flex justify-between items-start shrink-0">
                        <div>
                            <span class="text-[#C5A059] text-xs font-bold uppercase tracking-widest mb-1 block">Chi tiết triển khai</span>
                            <h2 class="text-2xl font-display font-bold text-white uppercase leading-tight">${foundTask.name}</h2>
                        </div>
                        <button onclick="closeModal(event)" class="text-slate-400 hover:text-white transition bg-slate-800 hover:bg-slate-700 w-8 h-8 rounded-full flex items-center justify-center">
                            <i data-lucide="x" class="w-4 h-4"></i>
                        </button>
                    </div>
                    
                    <div class="p-6 md:p-8 overflow-y-auto custom-scrollbar flex-1 space-y-8 bg-gradient-to-br from-[#0B1120] to-[#151e32]">
                        <div class="flex gap-5">
                            <div class="w-10 h-10 rounded-full bg-blue-900/20 border border-blue-500 text-blue-500 flex items-center justify-center shrink-0 font-bold text-lg shadow-[0_0_10px_rgba(59,130,246,0.2)]">W</div>
                            <div>
                                <h3 class="text-blue-400 font-bold text-lg uppercase mb-2 tracking-wide">What - Việc này là gì?</h3>
                                <p class="text-slate-300 leading-relaxed text-base">${foundTask.details.what}</p>
                            </div>
                        </div>

                        <div class="flex gap-5">
                            <div class="w-10 h-10 rounded-full bg-[#C5A059]/10 border border-[#C5A059] text-[#C5A059] flex items-center justify-center shrink-0 font-bold text-lg shadow-[0_0_10px_rgba(197,160,89,0.2)]">Y</div>
                            <div>
                                <h3 class="text-[#C5A059] font-bold text-lg uppercase mb-2 tracking-wide">Why - Tại sao quan trọng?</h3>
                                <div class="bg-[#C5A059]/5 p-4 rounded-lg border-l-2 border-[#C5A059] text-slate-200 italic">"${foundTask.details.why}"</div>
                            </div>
                        </div>

                        <div class="flex gap-5">
                            <div class="w-10 h-10 rounded-full bg-emerald-900/20 border border-emerald-500 text-emerald-500 flex items-center justify-center shrink-0 font-bold text-lg shadow-[0_0_10px_rgba(16,185,129,0.2)]">H</div>
                            <div class="w-full">
                                <h3 class="text-emerald-400 font-bold text-lg uppercase mb-3 tracking-wide">How - Các bước thực hiện</h3>
                                <div class="space-y-3">
                                    ${foundTask.details.how.map((step, index) => `
                                        <div class="flex items-start gap-4 bg-slate-800/50 p-3 rounded-lg border border-slate-700/50 hover:bg-slate-800 transition">
                                            <span class="text-emerald-500 font-bold text-lg leading-none mt-0.5">${index + 1}.</span>
                                            <p class="text-sm md:text-base text-slate-300">${step}</p>
                                        </div>
                                    `).join('')}
                                </div>
                            </div>
                        </div>

                        <div class="border-t border-slate-800 pt-6 mt-2">
                            <h3 class="text-slate-400 font-bold text-sm uppercase mb-3 flex items-center gap-2">
                                <i data-lucide="gem" class="w-3.5 h-3.5 text-yellow-500"></i> Ví dụ minh họa (Case Study)
                            </h3>
                            <div class="bg-slate-800 p-5 rounded-lg text-slate-300 border border-slate-700 shadow-inner">
                                ${foundTask.details.example}
                            </div>
                        </div>
                    </div>
                    
                    <div class="bg-slate-900 p-4 border-t border-slate-800 flex justify-end shrink-0">
                        <button onclick="closeModal(event)" class="px-6 py-2.5 bg-slate-800 hover:bg-slate-700 text-white rounded-lg font-bold transition border border-slate-600">Đóng</button>
                    </div>
                </div>
            `;
            
            modal.classList.remove('hidden');
            setTimeout(() => modal.classList.remove('opacity-0'), 10); // Trigger transition
            lucide.createIcons();
        }

        function closeModal(e) {
            // Check if click is on modal background or button
            if (e.target.id === 'detail-modal' || e.target.closest('button')) {
                const modal = document.getElementById('detail-modal');
                modal.classList.add('opacity-0');
                setTimeout(() => modal.classList.add('hidden'), 300);
            }
        }

        // Init
        document.addEventListener('DOMContentLoaded', () => {
            renderView('overview');
            lucide.createIcons();
        });
    </script>
</body>
</html>